<!DOCTYPE html><html lang=fr><head><meta charset=utf-8 /><meta content="width=device-width,initial-scale=1" name=viewport /><title>Scraper les Suggestions de Mots-clés Google (Google Suggest) avec Ruby &bull; Antoine Brisset</title><meta content="Je vous explique comment récupérer automatiquement toutes les suggestions Google autour d'un mot-clé. Avec en bonus un script gratuit !" name=description /><meta content="index,follow" name=robots /><meta content=R7aPiADkUTnBNzbTvsqutfN3_gewIxUFwJpKYyc-hBQ name=google-site-verification /><link href="/apple-touch-icon.png" rel=apple-touch-icon sizes=57x57 /><link href="/apple-touch-icon-57x57-precomposed.png" rel=apple-touch-icon sizes=57x57 /><link href="/apple-touch-icon-60x60-precomposed.png" rel=apple-touch-icon sizes=60x60 /><link href="/apple-touch-icon-72x72-precomposed.png" rel=apple-touch-icon sizes=72x72 /><link href="/apple-touch-icon-76x76-precomposed.png" rel=apple-touch-icon sizes=76x76 /><link href="/apple-touch-icon-114x114-precomposed.png" rel=apple-touch-icon sizes=114x114 /><link href="/apple-touch-icon-120x120-precomposed.png" rel=apple-touch-icon sizes=120x120 /><link href="/apple-touch-icon-144x144-precomposed.png" rel=apple-touch-icon sizes=144x144 /><link href="/apple-touch-icon-152x152-precomposed.png" rel=apple-touch-icon sizes=152x152 /><link href="/favicon-196x196.png" rel=icon sizes=196x196 type="image/png"/><link href="/favicon-160x160.png" rel=icon sizes=160x160 type="image/png"/><link href="/favicon-96x96.png" rel=icon sizes=96x96 type="image/png"/><link href="/favicon-32x32.png" rel=icon sizes=32x32 type="image/png"/><link href="/favicon-16x16.png" rel=icon sizes=16x16 type="image/png"/><meta content="#f5f5f5" name=msapplication-TileColor /><meta content="/mstile-144x144.png" name=msapplication-TileImage /><link href="/stylesheets/application.css" rel=stylesheet /><link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,600,700,800" rel=stylesheet /><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel=stylesheet /><style>.header{background-image: url('/images/backgrounds/small/code.jpeg');}
    @media screen and (min-width: 25em){.header{background-image: url('/images/backgrounds/medium/code.jpeg');}}
    @media screen and (min-width: 50em){.header{background-image: url('/images/backgrounds/code.jpeg');}}</style><script src="/javascripts/all.js"></script></head><body class="blog blog_google-suggest-scraper blog_google-suggest-scraper_index"> <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-WW7MSH" height=0 width=0 style="display:none;visibility:hidden"></iframe></noscript> <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
          '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
          })(window,document,'script','dataLayer','GTM-NKG6T7');</script> <div class=wrapper><nav role=navigation><div class=fat-nav><div class=fat-nav__wrapper><ul><li><a href="/">Accueil</a></li><li><a href="/blog/">Blog SEO</a></li><li><a href="/#contact">Contact</a></li></ul></div></div></nav></div><div role=main></div><div class=header><div class=wrapper><h1 class=header__title>Scraper Google Suggest avec Ruby</h1><p class=header__category><i class="fa fa-tag"></i> <em>Scripts SEO</em></p></div></div><div class="section section__content--large"><div class=wrapper><article class=blog__article><p class=blog__breadcrumb><a href="/blog/">Blog SEO</a> / <a href="/blog/categories/scripts-seo/">Scripts SEO</a></p><p class=blog__date>Publié le 30 Dec 2018</p><p class=blog__chapo>Google Suggest, tous les référenceurs connaissent. C'est souvent un des points de départ d'un audit de mots-clés. Plusieurs outils (payants) existent aujourd'hui pour récupérer ces mots-clés. Je vous propose ici un script Ruby gratuit.</p><p>Ce petit outil va vous faciliter la tâche lors de l&#39;extraction des mots-clés Google Suggest. Il vous suffira de le lancer, d&#39;attendre quelques secondes et de récupérer automatiquement toutes les suggestions dans un fichier au format txt.</p> <h2>Quelle différence par rapport aux outils et scripts existants ?</h2> <p>La plupart des scripts que j&#39;ai pu trouver sur le net se &ldquo;contentent&rdquo; de récupérer les 10 premiers mots-clés proposés par Google Suggest lors d&#39;une recherche. C&#39;est bien, mais clairement insuffisant pour faire le tour d&#39;une thématique. L&#39;objectif est de collecter TOUS les mots-clés que nous offre Google.</p> <p>Quand aux outils payants, ils font souvent bien le job, en ajoutant notamment les volumes de recherche correspondants, mais ils ont pour principal inconvénient&hellip; d&#39;être payant :)</p> <h2>Comment fonctionne le script ?</h2> <p>Le script que je vous propose utilise l&#39;API Google disponible ici <a href="https://www.google.com/complete/search?output=toolbar&amp;hl=fr&amp;q=mot-cl%C3%A9">https://www.google.com/complete/search?output=toolbar&amp;hl=fr&amp;q=mot-clé</a>. Pour chaque requête, celle-ci renvoie en sortie un fichier XML contenant 10 résultats maximum.</p> <p>L&#39;objectif est donc :</p> <ul> <li>d&#39;interroger l&#39;API</li> <li>de parser le XML</li> <li>de collecter les suggestions de mots-clés</li> <li>de tester si chaque nouvelle suggestion déclenche à son tour de nouvelles suggestions</li> </ul> <p>Par exemple, sur le requête &ldquo;iphone&rdquo;, si l&#39;API renvoie en premier résultat &ldquo;iphone xr&rdquo;, il faut tester si &ldquo;iphone xr&rdquo; renvoie lui aussi des résultats. Si c&#39;est le cas, il va falloir à nouveau tester chaque nouvelle suggestion que l&#39;API nous renvoie. Et ainsi de suite&hellip;</p> <p>L&#39;aspect intéressant dans le développement de l&#39;outil a donc été l&#39;utilisation de la récursivité, c&#39;est-à-dire l&#39;appel d&#39;une méthode dans la méthode elle-même.</p> <h2>Comment l&#39;utiliser ?</h2> <p>Le script est disponible <a href="https://github.com/ABrisset/google_suggest_scraper">sur Github</a>. Pour l&#39;utiliser, il suffit de cloner le repo sur votre machine puis de lancer la commande suivante :</p> <div class=highlight><pre class="highlight ruby"><code><span class="n">ruby</span> <span class="n">scraper</span><span class="p">.</span><span class="nf">rb</span> <span class="o">-</span><span class="n">q</span> <span class="s2">"votre mot-clé"</span>
</code></pre></div> <p>Attention, si vous choisissez un mot-clé dont découlent beaucoup de suggestions, vous risquez de vous faire bannir par Google pour cause de requêtes automatisées. Dans ce cas, il vous faudra adapter le code pour utiliser des proxies. </p> <p>Si je trouve le temps, j&#39;en ferai une app et ajouterai peut-être même une visualisation.</p> <p>Amusez-vous bien !</p> <div id=disqus_thread></div> <script>
//<![CDATA[
                  var disqus_shortname = 'blogantoinebrisset';
          
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
//]]>
</script> <noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a></noscript> <a href='http://disqus.com' class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a> </article></div></div><footer class=footer><div role=content-info><ul class=footer__content><li class=footer__content__item><i class="fa fa-home"></i> Marquette-lez-Lille</li><li class=footer__content__item><i class="fa fa-phone"></i> 06 12 71 82 78</li><li class=footer__content__item><i class="fa fa-envelope"></i> <a href="#email-protection-pbagnpg@nagbvar-oevffrg.pbz">contact@antoine-brisset.com</a> </li></ul><ul class=footer__content--social><li class=footer__content__item--social><a href="https://twitter.com/abrisset"><i class='fa fa-twitter footer__icon'></i></a></li><li class=footer__content__item--social><a href="https://github.com/ABrisset"><i class='fa fa-github footer__icon'></i></a></li><li class=footer__content__item--social><a href="http://plus.google.com/112811217796192792405?rel=author"><i class='fa fa-google-plus footer__icon'></i></a></li></ul><div class=footer__copyright> &copy; 2019 - <a href="/">Antoine Brisset</a></div></div></footer><script type="text/javascript">!function(){try{var a,b,c,d,g=document.getElementsByTagName("a");for(c=0;g.length-c;c++)try{b=g[c].getAttribute("href"),b&&b.indexOf("#email-protection-")>-1&&b.length>19&&(a="",d=19+b.indexOf("#email-protection-"),b.length>d&&(a=b.substr(18).replace(/[a-zA-Z]/g,function(a){return String.fromCharCode(("Z">=a?90:122)>=(a=a.charCodeAt(0)+13)?a:a-26)})),g[c].setAttribute("href","mailto:"+a))}catch(h){}}catch(h){}}();</script>
</body></html>